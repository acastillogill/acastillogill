{{ $journal := .journal }}

<div class="card-simple" itemscope itemprop="blogPost" itemtype="http://schema.org/BlogPosting">
  {{ partial "article_metadata" (dict "content" $journal "is_list" 1) }}

  {{ $preview := $journal.Params.header.preview | default true }}
  {{ if and $journal.Params.header.image $preview }}
  <a href="{{ $journal.Permalink }}">
    {{ $img_src := urls.Parse $journal.Params.header.image }}
    {{ if $img_src.Scheme }}
      <img src="{{ $journal.Params.header.image }}" class="article-banner" itemprop="image">
    {{ else }}
      <img src="{{ "/img/" | relURL }}{{ $journal.Params.header.image }}" class="article-banner" itemprop="image">
    {{ end }}
  </a>
  {{end}}
  <h3 class="article-title" itemprop="headline">
    <a href="{{ $journal.Permalink }}" itemprop="url">{{ $journal.Title }}</a>
  </h3>
  <div class="article-style" itemprop="articleBody">
    {{ if $journal.Params.summary }}
    <p>{{ printf "%s" $journal.Params.summary | markdownify }}</p>
    {{ else if $journal.Truncated }}
    {{ $journal.Summary }}
    {{ else }}
    {{ $journal.Content }}
    {{ end }}
  </div>
  <p class="read-more" itemprop="mainEntityOfPage">
    <a href="{{ $journal.Permalink }}" class="btn btn-primary btn-outline">
      {{ i18n "continue_reading" }}
    </a>
  </p>
</div>
