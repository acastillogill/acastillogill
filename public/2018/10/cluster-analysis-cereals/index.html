<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Clustering: cereals, supermarket shelves, and sugar &middot; Ángela Castillo-Gill</title>
    <meta name="generator" content="Hugo 0.53" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Ángela Castillo-Gill">
    
      <meta name="description" content="I do perform two types of clustering on the Kaggle cereals dataset.">
    
    
    <link rel="canonical" href="../../../2018/10/cluster-analysis-cereals/"/>
    <link rel="icon" href="../../../favicon.ico">
    <link rel="apple-touch-icon" href="../../../apple-touch-icon.png"/>
    <link rel="stylesheet" href="../../../css/style.css">
    <link rel="stylesheet" href="../../../css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../css/monokai.css">
    <link rel="stylesheet" href="../../../css/coarse.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="../../../fancybox/jquery.fancybox.css">
    
    <link rel="stylesheet" href="../../../css/fonts.css">
    
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:regular,medium,bold' rel='stylesheet' type='text/css'>
    <meta property="og:title" content="Clustering: cereals, supermarket shelves, and sugar" />
<meta property="og:description" content="I do perform two types of clustering on the Kaggle cereals dataset." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2018/10/cluster-analysis-cereals/" />
<meta property="og:image" content="/banners/cluster.png" />
<meta property="article:published_time" content="2018-10-17T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2018-10-17T00:00:00&#43;00:00"/>

    
    
<meta itemprop="name" content="Clustering: cereals, supermarket shelves, and sugar">
<meta itemprop="description" content="I do perform two types of clustering on the Kaggle cereals dataset.">


<meta itemprop="datePublished" content="2018-10-17T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-10-17T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="665">

  <meta itemprop="image" content="/banners/cluster.png">



<meta itemprop="keywords" content="Cluster analysis,Hierarchical clustering," />

    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/banners/cluster.png"/>

<meta name="twitter:title" content="Clustering: cereals, supermarket shelves, and sugar"/>
<meta name="twitter:description" content="I do perform two types of clustering on the Kaggle cereals dataset."/>
<meta name="twitter:site" content="@acastillogill"/>

    
<link href="https://use.fontawesome.com/releases/v5.0.1/css/all.css" rel="stylesheet">

<link href="https://fonts.googleapis.com/css?family=Alegreya|Source+Sans+Pro" rel="stylesheet">


    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
<div class="container">


<div id="container">
	<header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="../../../" id="logo">
          
          <span class="site-title">Ángela Castillo-Gill</span>
      </a>
      <nav id="main-nav">
          
          
          <a class="main-nav-link" href="../../../">Home</a>
          
          

          
          <a class="main-nav-link" href="../../../about/">About</a>
          
          <a class="main-nav-link" href="../../../post/">Posts</a>
          
          <a class="main-nav-link" href="../../../presentations/">Presentations</a>
          

          
          
          
      </nav>
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="../../../img/angela.jpeg"><i class="fas fa-caret-down"></i></a>
          </div>
        </nav>
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
              <input type="search" name="q" class="search-form-input" placeholder="Search">
              <button type="submit" class="search-form-submit">
              </button>
              <input type="hidden" name="sitesearch" value="/" />
         </form>
        </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tbody>
          <tr>
          
          
          <td><a class="main-nav-link" href="../../../">Home</a></td>
          
          

          
          <td><a class="main-nav-link" href="../../../about/">About</a></td>
          
          <td><a class="main-nav-link" href="../../../post/">Posts</a></td>
          
          <td><a class="main-nav-link" href="../../../presentations/">Presentations</a></td>
          

          
          
          
          <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
          <input type="search" name="q" class="search-form-input" placeholder="Search">
          <input type="hidden" name="sitesearch" value="/" />
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</header>

   	
   	<div class="outer">
   	
    	<aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      
      <img id="avatar" src="../../../img/angela.jpeg">
      
      <h2 id="name">Ángela Castillo-Gill</h2>
      <h3 id="title">Data Scientist | kindness &amp; discipline.</h3>
      
      
          <a id="follow" href="https://twitter.com/acastillogill">
              @acastillogill
          </a>
      
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        7
        <span>Posts</span>
      </div>
      <div class="article-info-block">
        
          16
        
        <span>
            Tags
        </span>
      </div>
    </div>
    <div class="profile-block social-links">
      <table>
        <tr>
          
<td><a href="//github.com/acastillogill" target="_blank" title="GitHub"><i class="fab fa-github-square"></i></a></td>



<td><a href="//twitter.com/acastillogill" target="_blank" title="Twitter"><i class="fab fa-twitter-square"></i></a></td>





























<td><a href="//medium.com/@acastillogill" target="_blank" title="Medium"><i class="fab fa-medium"></i></a></td>









<td><a href="//linkedin.com/in/acastillogill" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a></td>















          <td><a href="../../../index.xml" target="_blank" title="RSS"><i class="fas fa-rss-square"></i></a></td>
        </tr>
      </table>
    </div>
  </div>
</aside>

    

    <section id="main">
    
    <article id="page-undefined" class="article article-type-page" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            <img src="../../../banners/cluster.png" class="article-banner">
        

        <header class="article-header">
    <a href="../../../2018/10/cluster-analysis-cereals/">
    <h1 class="article-title" itemprop="name">
        Clustering: cereals, supermarket shelves, and sugar
    </h1>
    </a>
    <div class="article-meta">

        
        <div class="article-date">
            <i class="far fa-calendar"></i>
            <time datetime="2018-10-17 00:00:00 &#43;0000 UTC" itemprop="datePublished">2018-10-17</time>
            &middot;
            665
            words
            &middot;
            4
            minute read
        </div>
        
        
            
            
        

        
            
            
            <div class="article-category">
                <i class="fas fa-tags"></i>
                
                
                <a class="article-category-link" href="../../../tags/cluster-analysis">Cluster analysis</a>
                &middot;
                
                
                <a class="article-category-link" href="../../../tags/hierarchical-clustering">Hierarchical clustering</a>
                
                
            </div>
            
        
    </div>
</header>

        <div class="article-entry" itemprop="articleBody">
            
<script src="../../../rmarkdown-libs/kePrint/kePrint.js"></script>

<div id="TOC">
<ul>
<li><a href="#summary"><span class="toc-section-number">1</span> Summary</a></li>
<li><a href="#question"><span class="toc-section-number">2</span> Question</a></li>
<li><a href="#dataset-description"><span class="toc-section-number">3</span> Dataset description</a></li>
<li><a href="#hierarchical-clustering"><span class="toc-section-number">4</span> Hierarchical clustering</a></li>
<li><a href="#results"><span class="toc-section-number">5</span> Results</a></li>
<li><a href="#conclusion"><span class="toc-section-number">6</span> Conclusion</a></li>
</ul>
</div>

<div id="summary" class="section level1">
<h1><span class="header-section-number">1</span> Summary</h1>
<p><em>To see the all the code used in this post, visit my <a href="https://github.com/acastillogill/acastillogill">GitHub repository for this site</a></em></p>
<ul>
<li>Objectives: To find what what kind of clusters are there in the <a href="https://www.kaggle.com/crawford/80-cereals/home">cereals dataset</a> available on Kaggle.</li>
<li>Challenge: To implement a clustering algorithm for the first time.</li>
<li>Data points: 1232</li>
<li>Language: R</li>
</ul>
</div>
<div id="question" class="section level1">
<h1><span class="header-section-number">2</span> Question</h1>
<p><strong>What types of clusters are there in the cereals dataset?</strong></p>
</div>
<div id="dataset-description" class="section level1">
<h1><span class="header-section-number">3</span> Dataset description</h1>
<p>The dataset is available on Kaggle. It contains nutrition data on 80 cereal products. I chose this dataset because it had plenty of numeric variables and I’m interested in using two types of clustering algorithms to explore the data. Another reason I chose this dataset is because the data is unlabelled so I can add labels with clustering.</p>
<p>I wanted to focus on numeric variables using Euclidean distances. Not all variables in the dataset were numeric: the cereal name, the manufacturer, the type of cereal (hot or cold). There was also a numeric variable <code>Shelf</code> corresponding to the supemarket display shelf that doesn’t make much sense as a numeric variable, so I removed it from the analysis. After leaving just numeric variables, I was left with 12 variables.</p>
<p>I first scaled the data because I will calculate the Euclidean distance between each cereal but the variables are on different scales. When the data are scaled, the mean for each variable will be zero and a standard deviation of one.</p>
</div>
<div id="hierarchical-clustering" class="section level1">
<h1><span class="header-section-number">4</span> Hierarchical clustering</h1>
<p>I first implemented hierarchical clustering with three different linkage methods. Generally, the hierarchical clustering algorithm works by first linking the two observations that are closest together. It then chooses the closest observation based on <strong>a distance</strong> between the current observation and its distance to each element in a pair. That distance may vary according to the type of linkage as I show in the next tree diagrams (or dendrograms).</p>
<div class="figure"><span id="fig:plot-complete-linkage"></span>
<img src="../../../post/2018-10-17-cluster-analysis_files/figure-html/plot-complete-linkage-1.png" alt="This tree diagram shows the complete linkage process. Here the algorithm chooses the closest MAXIMUM distance between the considered observation and the current pair. The height in the plot shows the distance between two observation. Each horizontal line represents the number of clusters. After choosing two clusters, we can say that maximum distance between observations in the two clusters is equal two or less than 11.06." width="1344" />
<p class="caption">
Figure 4.1: This tree diagram shows the complete linkage process. Here the algorithm chooses the closest MAXIMUM distance between the considered observation and the current pair. The height in the plot shows the distance between two observation. Each horizontal line represents the number of clusters. After choosing two clusters, we can say that maximum distance between observations in the two clusters is equal two or less than 11.06.
</p>
</div>
<div class="figure"><span id="fig:plot-average-linkage"></span>
<img src="../../../post/2018-10-17-cluster-analysis_files/figure-html/plot-average-linkage-1.png" alt="This is the average linkage with maximum height 7.57. Here the algorithm chooses the closest AVERAGE distance between the considered observation and the current pair. Although the maximum distance between obsverations in a cluster is shorter than in complete linkage, average linkage leads to one cluster with three observations and another with 74. This an unbalanced set of clusters." width="1344" />
<p class="caption">
Figure 4.2: This is the average linkage with maximum height 7.57. Here the algorithm chooses the closest AVERAGE distance between the considered observation and the current pair. Although the maximum distance between obsverations in a cluster is shorter than in complete linkage, average linkage leads to one cluster with three observations and another with 74. This an unbalanced set of clusters.
</p>
</div>
<div class="figure"><span id="fig:plot-single-linkage"></span>
<img src="../../../post/2018-10-17-cluster-analysis_files/figure-html/plot-single-linkage-1.png" alt="Single linkage has even a smaller distance between observations with the maximum being 4.16. Here the algorithm chooses the closest MINIMUM distance between the considered observation and the current pair. Here 76 observations are in one cluster and one is in another. " width="1344" />
<p class="caption">
Figure 4.3: Single linkage has even a smaller distance between observations with the maximum being 4.16. Here the algorithm chooses the closest MINIMUM distance between the considered observation and the current pair. Here 76 observations are in one cluster and one is in another.
</p>
</div>
<p>I wanted balanced clusters so I ended up choosing the complete linkage method that classified observations more or less into two similar groups with one cluster having 30 observations and the other 47. Now I’d like to show the differences amongst clusters for each numerical variable.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:mean-for-each-cluster">Table 4.1: </span>Cluster two on average has 20% more calores, 35% less protein, 70% more sodium, 60% less fiber, more than twice as much sugar, 40% less potasium, 86% more vitamins and 37% lower ratings.
</caption>
<thead>
<tr>
<th style="text-align:right;">
cluster
</th>
<th style="text-align:right;">
calories
</th>
<th style="text-align:right;">
protein
</th>
<th style="text-align:right;">
fat
</th>
<th style="text-align:right;">
sodium
</th>
<th style="text-align:right;">
fiber
</th>
<th style="text-align:right;">
carbo
</th>
<th style="text-align:right;">
sugars
</th>
<th style="text-align:right;">
potass
</th>
<th style="text-align:right;">
vitamins
</th>
<th style="text-align:right;">
rating
</th>
<th style="text-align:right;">
complete_count$n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
95.67
</td>
<td style="text-align:right;">
3.100
</td>
<td style="text-align:right;">
1.1000
</td>
<td style="text-align:right;">
99.5
</td>
<td style="text-align:right;">
3.44
</td>
<td style="text-align:right;">
13.42
</td>
<td style="text-align:right;">
4.20
</td>
<td style="text-align:right;">
128.13
</td>
<td style="text-align:right;">
18.33
</td>
<td style="text-align:right;">
54.65
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
114.04
</td>
<td style="text-align:right;">
2.192
</td>
<td style="text-align:right;">
0.9574
</td>
<td style="text-align:right;">
198.1
</td>
<td style="text-align:right;">
1.33
</td>
<td style="text-align:right;">
15.35
</td>
<td style="text-align:right;">
8.66
</td>
<td style="text-align:right;">
75.62
</td>
<td style="text-align:right;">
34.57
</td>
<td style="text-align:right;">
35.02
</td>
<td style="text-align:right;">
47
</td>
</tr>
</tbody>
</table>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:table-counting-sugar-shelf">Table 4.2: </span>The top shelf (3), has roughly an equal quantity of cereals belonging to either cluster. The bottom shelf (1) only has two cereals difference. The middle shelf, however, has three times as much cluster two
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Cluster 1
</th>
<th style="text-align:right;">
Cluster 2
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
13
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
18
</td>
</tr>
</tbody>
</table>
<p><img src="../../../post/2018-10-17-cluster-analysis_files/figure-html/plot-sugar-shelf-1.png" width="1344" /></p>
<p><img src="../../../post/2018-10-17-cluster-analysis_files/figure-html/plot-sodium-shelf-1.png" width="1344" /></p>
</div>
<div id="results" class="section level1">
<h1><span class="header-section-number">5</span> Results</h1>
</div>
<div id="conclusion" class="section level1">
<h1><span class="header-section-number">6</span> Conclusion</h1>
</div>

        </div>
        <footer class="article-footer">
    <a data-url="/2018/10/cluster-analysis-cereals/" data-id="80d9adefbaa7447d144a916b455cc419" text="Clustering: cereals, supermarket shelves, and sugar" via="acastillogill" class="article-share-link">
        <i class="fas fa-share"></i>
        Share
    </a>
    
    <a href="../../../2018/10/cluster-analysis-cereals/#disqus_thread" class="article-comment-link">
        Comments
    </a>
    

    <script>
    (function ($) {
        
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                titleText = $this.attr('text'),
                via = $this.attr('via'),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/share?url=' + encodedUrl + '&text=' + titleText + '&via=' + via + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest-p article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
    </script>
</footer>

    </div>

    
<nav id="article-nav">
    
    <a href="../../../2018/08/regression-trees-predicting-property-prices/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">
          Older
      </strong>
      <div class="article-nav-title">Regression trees: predicting property prices</div>
    </a>
    

    
    <a href="../../../2018/11/r-downloads-around-the-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">
          Newer
      </strong>
      <div class="article-nav-title">Maps: R-Downloads around the world</div>
    </a>
    
</nav>


</article>


<section id="comments">
    <div id="disqus_thread">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-acastillogill-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
</section>


    </section>

   	
    	<aside id="sidebar">
    

    

    

    


    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

    
	</div>
</div>

<footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019
      Ángela Castillo-Gill. Powered by <a href="//gohugo.io">Hugo</a>. Theme by <a href="https://github.com/ppoffice">PPOffice</a>. Customised by <a href="https://maraaverick.rbind.io/">Mara Averick</a> and used with permission.
    </div>
  </div>
</footer>


<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	if (window.sessionStorage) {
		var GA_SESSION_STORAGE_KEY = 'ga:clientId';
		ga('create', 'UA-128602464-1', {
	    'storage': 'none',
	    'clientId': sessionStorage.getItem(GA_SESSION_STORAGE_KEY)
	   });
	   ga(function(tracker) {
	    sessionStorage.setItem(GA_SESSION_STORAGE_KEY, tracker.get('clientId'));
	   });
   }
	
	ga('send', 'pageview');
}
</script>

<script src="../../../fancybox/jquery.fancybox.pack.js"></script>
<script src="../../../js/script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>


<script>hljs.initHighlightingOnLoad();</script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>




</body>
</html>