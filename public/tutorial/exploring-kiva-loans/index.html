<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.1.0">
  <meta name="generator" content="Hugo 0.51" />
  <meta name="author" content="Ángela Castillo-Gill">

  
  
  
  
    
  
  <meta name="description" content="What do Kiva loans around the world look like?">

  
  <link rel="alternate" hreflang="en-us" href="/tutorial/exploring-kiva-loans/">

  


  

  

  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous">
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Neuton:300|Oswald:600">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-128602464-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Ángela Castillo-Gill">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Ángela Castillo-Gill">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/tutorial/exploring-kiva-loans/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@acastillogill">
  <meta property="twitter:creator" content="@acastillogill">
  
  <meta property="og:site_name" content="Ángela Castillo-Gill">
  <meta property="og:url" content="/tutorial/exploring-kiva-loans/">
  <meta property="og:title" content="Exploring Kiva loans | Ángela Castillo-Gill">
  <meta property="og:description" content="What do Kiva loans around the world look like?">
  
  
    
  <meta property="og:image" content="/img/headers/lenders-per-country-1.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-07-07T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2018-07-07T00:00:00&#43;00:00">
  

  

  

  <title>Exploring Kiva loans | Ángela Castillo-Gill</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >

<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Ángela Castillo-Gill</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#tutorials">
            
            <span>Tutorials</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/files/cv.pdf">
            
            <span>CV</span>
            
          </a>
        </li>

        
        

      

        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  









<div class="article-header">
  
  
  <img src="/img/headers/lenders-per-country-1.png" class="article-banner" itemprop="image" alt="">
  

  <span class="article-header-caption">Lender counts per country for top borrowing countries.</span>
</div>




  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">Exploring Kiva loans</h1>

  

  
    

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Ángela Castillo-Gill">
  </span>
  

  <span class="article-date">
    
    <meta content="2018-07-07 00:00:00 &#43;0000 UTC" itemprop="datePublished">
    <time datetime="2018-07-07 00:00:00 &#43;0000 UTC" itemprop="dateModified">
      Jul 7, 2018
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Ángela Castillo-Gill">
  </span>

  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="/categories/r/">R</a>, 
    
    <a href="/categories/end-to-end/">End-to-end</a>, 
    
    <a href="/categories/exploratory-data-analysis/">Exploratory data analysis</a>
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Exploring%20Kiva%20loans&amp;url=%2ftutorial%2fexploring-kiva-loans%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2ftutorial%2fexploring-kiva-loans%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2ftutorial%2fexploring-kiva-loans%2f&amp;title=Exploring%20Kiva%20loans"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2ftutorial%2fexploring-kiva-loans%2f&amp;title=Exploring%20Kiva%20loans"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Exploring%20Kiva%20loans&amp;body=%2ftutorial%2fexploring-kiva-loans%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<pre><code class="language-r">x &lt;-
  c(&quot;tidyverse&quot;,
    &quot;knitr&quot;,
    &quot;formatR&quot;,
    &quot;stringr&quot;,
    &quot;quantmode&quot;,
    &quot;skimr&quot;,
    &quot;lubridate&quot;,
    &quot;tidyr&quot;,
    &quot;formattable&quot;,
    &quot;grid&quot;,
    &quot;gridExtra&quot;,
    &quot;kableExtra&quot;,
    &quot;here&quot;)

lapply(x, require, character.only = TRUE)


opts_chunk$set(echo = FALSE,
               warning = FALSE,
               error = FALSE,
               message = FALSE,
               collapse= TRUE,
               comment = NA,
               tidy = TRUE)
</code></pre>

<h1 id="summary">Summary</h1>

<p><em>To see the code used in this post, visit my <a href="https://www.kaggle.com/adcastillogill/exploring-kiva-loans" target="_blank">kernel on kaggle in R Markdown format</a>.</em></p>

<p>In this post, I analyse 671,205 observations. Each represents a <a href="www.kiva.org" target="_blank">Kiva</a> loan. I find that the gender that requests the most loans is female with single females being the most frequent borrowers. The main uses for these loans are agriculture, retail, and food with some variations amongst continents. Half of the loans are 4.22 USD or less and are funded by 12 or less contributers. The median time between posting a loan online and disbursing it to the borrower is 16.89 days. I mainly use the <code>tidyverse</code>, <code>stringr</code>, and <code>quantmode</code> packages.</p>

<h1 id="purpose-of-this-post">Purpose of this post</h1>

<p>Muhammad Yunus and the Grameen Bank won the <a href="https://www.nobelpeaceprize.org/Prize-winners/Winners/2006" target="_blank">Nobel Peace Prize</a> in 2006 for &ldquo;their efforts through microcredit to create economic and social development from below.&rdquo;</p>

<p>Back in 1976, Yunus, at the time a professor at the University of Chittagong (Bangladesh), <a href="https://www.bbc.co.uk/news/world-south-asia-11901625" target="_blank">noticed that small amounts of money could make a substantial difference to people living in poverty</a>. He started to loan money to people that didn&rsquo;t meet the requirements listed by the mainstream banking system. It was reported that these type of loans were effective to <a href="https://www.nobelpeaceprize.org/Prize-winners/Prizewinner-documentation/Muhammad-Yunus-Grameen-Bank" target="_blank">&ldquo;emerge&rdquo; from poverty</a> using default rates lower than those of commercial banks, <a href="https://www.gdrc.org/icm/grameen-article4.html" target="_blank">reported at 2%</a>. Eventually, in October 1983, Muhammad Yunus founded <a href="https://grameenfoundation.org/about/history" target="_blank">Grameen Bank</a>, considered to be the first microfinance institution.</p>

<p>Founded in 2005, <a href="www.kiva.org" target="_blank">Kiva</a>, has the same mission as Grameen Bank except that anyone can become a Kiva banker. This online platform enables microcredit lending to help low-income entrepreneurs around the world with a couple of clicks. Pretty neat, huh? In this post, I unpack a large dataset published by <a href="https://www.kaggle.com/kiva/data-science-for-good-kiva-crowdfunding" target="_blank">Kiva on the Kaggle platform</a> and explore these microloans.</p>

<h1 id="the-data">The data</h1>

<p>The dataset was published during the first months of 2018 on the <a href="https://www.kaggle.com/kiva/data-science-for-good-kiva-crowdfunding" target="_blank">Kaggle platform</a>.</p>

<p>The complete dataset was a zip file with size 232.7 MB containing four files: <code>kiva_loans.csv</code>, <code>kiva_mpi_region_locations.csv</code>,<code>loan_theme_ids.csv</code>, and <code>loan_themes_by_region.csv</code>. After I looked at the contents, I chose to work with the first one <code>kiva_loans.csv</code>.</p>

<pre><code class="language-r">path &lt;- &quot;/Volumes/TOSHIBAEXT/RStudio/blog/content/post/kiva_data/&quot;
#Read `kiva_loans.csv`
kiva_loans &lt;- read_csv(paste0(path,&quot;kiva_loans.csv&quot;))
</code></pre>

<p>The dataset had 671,205 observations and 20 variables.</p>

<pre><code class="language-r">#Get a glimpse of kiva_loans
glimpse(kiva_loans)
</code></pre>

<p>Some of the codebook came with the dataset and some I researched to make assumptions:</p>

<ul>
<li><code>funded_amount</code>: &ldquo;The amount disbursed by Kiva to the field agent(USD)&rdquo;</li>
<li><code>loan_amount</code>: &ldquo;The amount disbursed by the field agent to the borrower(USD)&rdquo;</li>
<li><code>activity</code>: &ldquo;More granular category&rdquo;</li>
<li><code>sector</code>: &ldquo;High level category&rdquo;</li>
<li><code>use</code>: &ldquo;Exact usage of loan amount&rdquo;</li>
<li><code>country_code</code>: &ldquo;ISO country code of country in which loan was disbursed&rdquo;</li>
<li><code>country</code>: &ldquo;Full country name of country in which loan was disbursed&rdquo;</li>
<li><code>region</code>: &ldquo;Full region name within the country&rdquo;</li>
<li><code>currency</code>: &ldquo;The currency in which the loan was disbursed&rdquo;</li>
<li><code>partner_id</code>: &ldquo;ID of partner organization&rdquo;</li>
</ul>

<p>This variable has a lot of missing values and the Kiva explanation on Kaggle doesn&rsquo;t go much further. For now, I will exclude <code>partner_id</code>.</p>

<ul>
<li><code>posted_time</code>: &ldquo;The time at which the loan is posted on Kiva by the field agent&rdquo;</li>
<li><code>disbursed_time</code>: &ldquo;The time at which the loan is disbursed by the field agent to the borrower&rdquo;</li>
<li><code>funded_time</code>: &ldquo;The time at which the loan posted to Kiva gets funded by lenders completely&rdquo;</li>
<li><code>term_in_months</code>: &ldquo;The duration for which the loan was disbursed in months&rdquo;</li>
<li><code>lender_count</code>: &ldquo;The total number of lenders that contributed to this loan&rdquo;</li>
<li><code>borrower_genders</code>: &ldquo;Comma separated M,F letters, where each instance represents a single male/female in the group&rdquo;</li>
<li><code>repayment_interval</code>: Not specified so we&rsquo;ll assume that it means the standard definition of when the loan is repaid back to the lender.</li>
</ul>

<h1 id="data-cleaning">Data cleaning</h1>

<pre><code class="language-r">
#Select variables 
kiva_loans %&gt;%
  dplyr::select (id,
          loan_amount,
          sector,
          country_code,
          currency,
          posted_time,
          disbursed_time,
          term_in_months,
          lender_count,
          borrower_genders,
          repayment_interval,
          funded_time) -&gt; kiva_loans

#Convert country_code, sector, currency, borrower_genders, and repayment_interval to factors.
categorical &lt;- c(&quot;sector&quot;,
                 &quot;country_code&quot;,
                 &quot;currency&quot;,
                 &quot;borrower_genders&quot;,
                 &quot;repayment_interval&quot;)

kiva_loans[categorical] &lt;- lapply(kiva_loans[categorical],
                                  factor)
</code></pre>

<p>From  at the structure of our data, we can soon see there are a few bits that don&rsquo;t make sense and need to be fixed.</p>

<p><strong>a. Missing values</strong></p>

<p>We will leave missing values in for now.</p>

<p><strong>b.<code>borrower_genders</code></strong></p>

<p>From the variable descriptions, we expected <code>borrower_genders</code>to have only two levels, <code>male</code>or <code>female</code>. Here we see many more levels, 11,298 to be precise. This isn&rsquo;t very clear so we&rsquo;ll fix that first by creating five levels:</p>

<pre><code class="language-r">
#Turn kiva_loans back into an atomic vector of characters
kiva_loans$borrower_genders &lt;- as.character(kiva_loans$borrower_genders)

#Split each row into multiple strings
genders &lt;- str_split(kiva_loans$borrower_genders, &quot;, &quot;)

#Assign 1 for female and 0 for male
females_count &lt;- lapply(genders, str_count, pattern=&quot;female&quot;)

#Count how many females are in each list element
females_sum &lt;- lapply(females_count, sum)

#Create a function that takes the two lists just made
compare_genders &lt;- function(females_count, females_sum){
  
  #Set &quot;single_female&quot; when female sum and length is 1
  ifelse (females_sum==1&amp;&amp;length(females_count)==1, &quot;single_female&quot;,
          
  #Set &quot;mult_females&quot; when female sum and length females_count is the same and different to zero
  ifelse(females_sum==length(females_count)&amp;&amp;females_sum!=0,&quot;mult_females&quot;,
         
  #Set &quot;single_male&quot; #Set &quot;mult_males&quot; when female sum is zero and the count of individuals is 1
  ifelse(females_sum==0&amp;&amp;length(females_count)==1,&quot;single_male&quot;,
         
  #Set &quot;mult_males&quot; when female sum is zero and the count of individuals is greater than 1
  ifelse(females_sum==0&amp;&amp;length(females_count)&gt;1,&quot;mult_males&quot;,
         
  #Set &quot;mixed_genders&quot; when the sum of females is different to the count of individual       
  ifelse(females_sum!=length(females_count),&quot;mixed_genders&quot;,&quot;strange&quot;)))))
  
}
#Apply function compare_genders
kiva_loans$borrower_genders &lt;- mapply(compare_genders,females_count,females_sum)
</code></pre>

<pre><code class="language-r">
#Make kiva_loans$borrower_genders a factor again
kiva_loans$borrower_genders &lt;- as.factor(kiva_loans$borrower_genders)

#Check levels
levels(kiva_loans$borrower_genders)
</code></pre>

<p><strong>c.<code>loan_amounts</code></strong></p>

<p>Now, since we&rsquo;re trying to make sense of all loans, it&rsquo;s better if <code>loan_amounts</code> is in the same currency. Let&rsquo;s translate it to USD.</p>

<pre><code class="language-r">
for (curr in levels(kiva_loans$currency))
  
  #Check that all currencies do not return any errors when requesting a currency conversion
  tryCatch(quantmod::getQuote(paste0(curr, &quot;=X&quot;)), error = print)
</code></pre>

<pre><code class="language-r">## It seems like two currencies are returning an error. Let's filter them out. 
#Turning kiva_loans back into a character vector
kiva_loans$currency &lt;- as.character(kiva_loans$currency)

kiva_loans%&gt;%
  #Filter out &quot;SSP&quot;
  dplyr::filter(currency!=&quot;SSP&quot;)%&gt;% 
  
  #Filter out &quot;ZWD&quot;
  filter(currency!=&quot;ZWD&quot;)-&gt;kiva_loans 

#Turn kiva_loans$currency back into a factor
kiva_loans$currency &lt;- as.factor(kiva_loans$currency) 

#Store all levels as vector `from`
from &lt;- as.vector(levels(kiva_loans$currency)) 

#Create a vector `to` with requested currency &quot;USD&quot;
to &lt;- rep(length(levels(kiva_loans$currency)),x=&quot;USD&quot;) 

#Create a dataframe `currencies` with conversion rates `Last`
currencies &lt;- quantmod::getQuote(paste0(from, to, &quot;=X&quot;))
  

</code></pre>

<pre><code class="language-r">#Set row names as columns in the currencies dataframe

currencies &lt;- rownames_to_column(currencies)

#Split currencies$rownames by extracting the first 3 characters

currencies$currency &lt;-  substring(currencies$rowname, 1,3)

#currencies &lt;- readRDS(file=&quot;/Users/AngelaDelgado/Desktop/currencies.rds&quot;)

kiva_loans%&gt;%
  #Join currencies to kiva_loans by=&quot;currency&quot;
  left_join(currencies, by=&quot;currency&quot;) -&gt; kiva_loans

kiva_loans%&gt;%
  #Convert the loan from its original currency to USD
  mutate(loan_usd=loan_amount*Last)-&gt; kiva_loans
</code></pre>

<p><strong>d.<code>country_codes</code></strong></p>

<p>Finally, with 86 countries, we have 86 levels. Perhaps it would be interesting to create another category called continent to produce less levels and have a better understanding of the overall function of regional distributions.</p>

<p>Our country codes are in the ISO3166 format, so we will use the associated continent code found <a href="https://dev.maxmind.com/geoip/legacy/codes/country_continent/" target="_blank">here</a>. And make five continents. Africa, Asia, Europe, Oceania, and South America.</p>

<pre><code class="language-r">#Read `country_continent.csv`
continents &lt;- read_csv(paste(path,&quot;country_continent.csv&quot;,sep = &quot;&quot;))
</code></pre>

<pre><code class="language-r">kiva_loans%&gt;%
  #Join currencies to kiva_loans by=&quot;country_code&quot;
  left_join(continents, by=&quot;country_code&quot;) -&gt; kiva_loans

</code></pre>

<pre><code class="language-r">kiva_loans$continent &lt;- as.factor(kiva_loans$continent)
levels(kiva_loans$continent)
</code></pre>

<p><strong>e. Dates</strong></p>

<p>Let&rsquo;s calculate two lengths of time that I think are interesting. First, how much time passes from the moment the loan is posted to the moment it&rsquo;s disbursed (<code>total_time</code>). Second, how long does a loan take to get funded (<code>giving_time</code>)?</p>

<pre><code class="language-r">kiva_loans%&gt;%
  mutate(total_time_num=as.numeric(difftime(posted_time,
                                            disbursed_time,
                                            units = &quot;days&quot;)),
         giving_time_num=as.numeric(difftime(funded_time,
                                             posted_time,
                                             units = &quot;days&quot;))) -&gt;kiva_loans

</code></pre>

<pre><code class="language-r,">#Select variables 
kiva_loans %&gt;%
  dplyr::select (id,
          loan_usd,
          sector, 
          continent,
          term_in_months,
          lender_count,
          borrower_genders,
          repayment_interval,
          total_time_num,
          giving_time_num,
          country_code,
          posted_time,
          funded_time,
          disbursed_time)%&gt;%
  arrange(posted_time)-&gt; kiva_loans
kiva_loans$country_code &lt;- as.factor(kiva_loans$country_code)
kiva_loans$id &lt;- as.character(kiva_loans$id)
#Skim the dataset
skim(kiva_loans)
</code></pre>

<h1 id="exploratory-data-analysis">Exploratory data analysis</h1>

<p>Now, let&rsquo;s describe the data starting with some plots and tables to understand it.</p>

<pre><code class="language-r">kiva_loans &lt;-  kiva_loans%&gt;%
  filter(continent!=&quot;EU&quot;,
         repayment_interval!=&quot;weekly&quot;,
         sector!=&quot;Construction&quot;&amp;
          sector!=&quot;Entertainment&quot;&amp;
           sector!= &quot;Manufacturing&quot;&amp;
            sector!= &quot;Wholesale&quot;)%&gt;%
  droplevels()
</code></pre>

<pre><code class="language-r">AF_borrower_genders &lt;- na.omit(kiva_loans) %&gt;%
  filter(continent == &quot;AF&quot;) %&gt;%
  dplyr::count(borrower_genders) %&gt;%
  mutate(borrower_genders = reorder(borrower_genders, n)) %&gt;%
  ggplot(aes(
    x = borrower_genders,
    y = n,
    fill = borrower_genders,
    color = borrower_genders
  )) +
  geom_col(show.legend = FALSE, alpha = 0.7) +
  theme_minimal() +
  labs(title = &quot;Africa&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Borrower genders&quot;)) +
  scale_fill_viridis_d() +
  scale_color_viridis_d() +
  coord_flip(ylim = c(0,250000))


OC_borrower_genders &lt;- na.omit(kiva_loans) %&gt;%
  filter(continent == &quot;OC&quot;) %&gt;%
  dplyr::count(borrower_genders) %&gt;%
  mutate(borrower_genders = reorder(borrower_genders, n)) %&gt;%
  ggplot(aes(
    x = borrower_genders,
    y = n,
    fill = borrower_genders,
    color = borrower_genders
  )) +
  geom_col(show.legend = FALSE, alpha = 0.7) +
  theme_minimal() +
  labs(title = &quot;Oceania&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Borrower genders&quot;)) +
  scale_fill_viridis_d() +
  scale_color_viridis_d() +
  coord_flip(ylim = c(0,250000))


AS_borrower_genders &lt;- na.omit(kiva_loans) %&gt;%
  filter(continent == &quot;AS&quot;) %&gt;%
  dplyr::count(borrower_genders) %&gt;%
  mutate(borrower_genders = reorder(borrower_genders, n)) %&gt;%
  ggplot(aes(
    x = borrower_genders,
    y = n,
    fill = borrower_genders,
    color = borrower_genders
  )) +
  geom_col(show.legend = FALSE, alpha = 0.7) +
  theme_minimal() +
  labs(title = &quot;Asia&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Borrower genders&quot;)) +
  scale_fill_viridis_d() +
  scale_color_viridis_d() +
  coord_flip(ylim = c(0,250000))


SA_borrower_genders &lt;- na.omit(kiva_loans) %&gt;%
  filter(continent == &quot;SA&quot;) %&gt;%
  dplyr::count(borrower_genders) %&gt;%
  mutate(borrower_genders = reorder(borrower_genders, n)) %&gt;%
  ggplot(aes(
    x = borrower_genders,
    y = n,
    fill = borrower_genders,
    color = borrower_genders
  )) +
  geom_col(show.legend = FALSE, alpha = 0.7) +
  theme_minimal() +
  labs(title = &quot;South America&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Borrower genders&quot;)) +
  scale_fill_viridis_d() +
  scale_color_viridis_d() +
  coord_flip(ylim = c(0,250000))

                 

grid.arrange(
  AS_borrower_genders,
  AF_borrower_genders,
  SA_borrower_genders,
  OC_borrower_genders,
  nrow = 1,
  top = grid::textGrob(&quot;Borrower genders by continent&quot;,
                       x=0,
                       hjust=0,
                       gp=gpar(fontsize=30,
                         font=8))
)
</code></pre>

<pre><code class="language-r">options(&quot;digits&quot;=2)
prop.table(table(kiva_loans$borrower_genders))%&gt;%
  as.tibble()%&gt;%
  mutate(n=n*100)%&gt;%
  arrange(desc(n))%&gt;%
  kable(caption=&quot;A single female is the most common type of borrower gender with over half of all Kiva loans requested.&quot;,
        col.names = c(&quot;Gender&quot;,&quot;Percentage&quot;)) %&gt;%
 kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;))

</code></pre>

<p>In all continents, single females request the most loans followed by single males. In Asia and South America, the third category is multiple females while in Africa it&rsquo;s mixed genders.</p>

<pre><code class="language-r">AF_repayment_interval &lt;- kiva_loans %&gt;%
  filter(continent==&quot;AF&quot;)%&gt;%
  dplyr::count(repayment_interval)%&gt;%
  mutate(repayment_interval=reorder(repayment_interval, n))%&gt;%
  ggplot(aes(
    x = repayment_interval,
    y = n,
    fill = repayment_interval,
    color = repayment_interval)) +
  geom_col(show.legend = FALSE, alpha=0.7) +
  theme_minimal() +
  labs(title = &quot;Africa&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust=1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Repayment interval&quot;)) +
  scale_fill_viridis_d()+
  scale_color_viridis_d()+
  coord_flip(ylim = c(0,170000))


OC_repayment_interval &lt;- kiva_loans %&gt;%
  filter(continent==&quot;OC&quot;)%&gt;%
  dplyr::count(repayment_interval)%&gt;%
  mutate(repayment_interval=reorder(repayment_interval, n))%&gt;%
  ggplot(aes(
    x = repayment_interval,
    y = n,
    fill = repayment_interval,
    color = repayment_interval)) +
  geom_col(show.legend = FALSE, alpha=0.7) +
  theme_minimal() +
  labs(title = &quot;Oceania&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust=1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Repayment interval&quot;)) +
  scale_fill_viridis_d()+
  scale_color_viridis_d()+
  coord_flip(ylim = c(0,170000))


AS_repayment_interval &lt;- kiva_loans %&gt;%
  filter(continent==&quot;AS&quot;)%&gt;%
  dplyr::count(repayment_interval)%&gt;%
  mutate(repayment_interval=reorder(repayment_interval, n))%&gt;%
  ggplot(aes(
    x = repayment_interval,
    y = n,
    fill = repayment_interval,
    color = repayment_interval)) +
  geom_col(show.legend = FALSE, alpha=0.7) +
  theme_minimal() +
  labs(title = &quot;Asia&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust=1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Repayment interval&quot;)) +
  scale_fill_viridis_d()+
  scale_color_viridis_d()+
  coord_flip(ylim = c(0,170000))


SA_repayment_interval &lt;- kiva_loans %&gt;%
  filter(continent==&quot;SA&quot;)%&gt;%
  dplyr::count(repayment_interval)%&gt;%
  mutate(repayment_interval=reorder(repayment_interval, n))%&gt;%
  ggplot(aes(
    x = repayment_interval,
    y = n,
    fill = repayment_interval,
    color = repayment_interval)) +
  geom_col(show.legend = FALSE, alpha=0.7) +
  theme_minimal() +
  labs(title = &quot;South America&quot;,
       x = &quot;&quot;,
       y = &quot;Number of loans&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust=1),
        axis.ticks.x = element_blank()) +
  #guides(fill = guide_legend(title = &quot;Repayment interval&quot;)) +
  scale_fill_viridis_d()+
  scale_color_viridis_d()+
  coord_flip(ylim = c(0,170000))

grid.arrange(AS_repayment_interval,
             AF_repayment_interval,
             SA_repayment_interval, OC_repayment_interval,
             nrow=1,  
             top = grid::textGrob(&quot;Repayment interval by continent&quot;,
                       x=0,
                       hjust=0,
                       gp=gpar(fontsize=30,
                               font=8))
)

</code></pre>

<pre><code class="language-r">
prop.table(table(kiva_loans$repayment_interval))%&gt;%
  as.tibble()%&gt;%
  mutate(n=n*100)%&gt;%
  arrange(desc(n))%&gt;%
  kable(caption=&quot;The most popular type of repayment interval is monthly.&quot;,
        col.names = c(&quot;Repayment interval&quot;,&quot;Percentage&quot;)) %&gt;%
 kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;))

</code></pre>

<pre><code class="language-r">AF_sector &lt;- kiva_loans %&gt;%
filter(continent==&quot;AF&quot;)%&gt;%
dplyr::count(sector)%&gt;%
mutate(sector=reorder(sector, n))%&gt;%
ggplot(aes(
x = sector,
y = n,
fill = sector,
color = sector)) +
geom_col(show.legend = FALSE, alpha=0.7) +
theme_minimal() +
labs(title = &quot;Africa&quot;,
x = &quot;&quot;,
y = &quot;Number of loans&quot;) +
theme(axis.text.x = element_text(angle = 45, hjust=1),
axis.ticks.x = element_blank()) +
#guides(fill = guide_legend(title = &quot;Sector&quot;)) +
scale_fill_viridis_d()+
scale_color_viridis_d()+
  coord_flip(ylim = c(0,80000))

OC_sector &lt;- kiva_loans %&gt;%
filter(continent==&quot;OC&quot;)%&gt;%
dplyr::count(sector)%&gt;%
mutate(sector=reorder(sector, n))%&gt;%
ggplot(aes(
x = sector,
y = n,
fill = sector,
color = sector)) +
geom_col(show.legend = FALSE, alpha=0.7) +
theme_minimal() +
labs(title = &quot;Oceania&quot;,
x = &quot;&quot;,
y = &quot;Number of loans&quot;) +
theme(axis.text.x = element_text(angle = 45, hjust=1),
axis.ticks.x = element_blank()) +
#guides(fill = guide_legend(title = &quot;Sector&quot;)) +
scale_fill_viridis_d()+
scale_color_viridis_d()+
  coord_flip(ylim = c(0,80000))

AS_sector &lt;- kiva_loans %&gt;%
filter(continent==&quot;AS&quot;)%&gt;%
dplyr::count(sector)%&gt;%
mutate(sector=reorder(sector, n))%&gt;%
ggplot(aes(
x = sector,
y = n,
fill = sector,
color = sector)) +
geom_col(show.legend = FALSE, alpha=0.7) +
theme_minimal() +
labs(title = &quot;Asia&quot;,
x = &quot;&quot;,
y = &quot;Number of loans&quot;) +
theme(axis.text.x = element_text(angle = 45, hjust=1),
axis.ticks.x = element_blank()) +
#guides(fill = guide_legend(title = &quot;Sector&quot;)) +
scale_fill_viridis_d()+
scale_color_viridis_d()+
  coord_flip(ylim = c(0,80000))

SA_sector &lt;- kiva_loans %&gt;%
filter(continent==&quot;SA&quot;)%&gt;%
dplyr::count(sector)%&gt;%
mutate(sector=reorder(sector, n))%&gt;%
ggplot(aes(
x = sector,
y = n,
fill = sector,
color = sector)) +
geom_col(show.legend = FALSE, alpha=0.7) +
theme_minimal() +
labs(title = &quot;South America&quot;,
x = &quot;&quot;,
y = &quot;Number of loans&quot;) +
theme(axis.text.x = element_text(angle = 45, hjust=1),
axis.ticks.x = element_blank()) +
#guides(fill = guide_legend(title = &quot;Sector&quot;)) +
scale_fill_viridis_d()+
scale_color_viridis_d()+
  coord_flip(ylim = c(0,80000))

grid.arrange(AS_sector,
             AF_sector,
             SA_sector,
             OC_sector,
             nrow=1,
             top = grid::textGrob(&quot;Loan use by continent&quot;,
                       x=0,
                       hjust=0,
                       gp=gpar(fontsize=30,
                               font=8))
)
</code></pre>

<pre><code class="language-r">
prop.table(table(kiva_loans$sector))%&gt;%
  as.tibble()%&gt;%
  mutate(n=n*100)%&gt;%
  arrange(desc(n))%&gt;%
  kable(caption=&quot;Generally, the most frequent use of loans is agriculture, followed by food and retail.&quot;,
        col.names = c(&quot;Sector&quot;,&quot;Percentage&quot;)) %&gt;%
 kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;))
</code></pre>

<pre><code class="language-r">
prop.table(table(kiva_loans$continent))%&gt;%
  as.tibble()%&gt;%
  mutate(n=n*100)%&gt;%
  arrange(desc(n))%&gt;%
  kable(format=&quot;html&quot;,
          caption=&quot;Half of all Kiva loans are requested in Asia followed by Africa, South America, Oceania and finally the European Union.&quot;,
        col.names = c(&quot;Continents&quot;,&quot;Percentage&quot;)) %&gt;%
 kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;))


</code></pre>

<p>Notice most loans are requested by single females, the least amount of loans are given in the EU, weekly repayment is an unpopular form of paying loans back and entertainment, wholesale, manufacturing, and construction amount less than 2.2% of sectors.</p>

<pre><code class="language-r">
kiva_loans %&gt;%
  group_by(country_code) %&gt;%
  dplyr::count(country_code, sort = TRUE) %&gt;%
  ungroup() %&gt;%
  top_n(10) %&gt;%
  ggplot(aes(reorder(x = country_code, n), y = n)) +
  geom_col(position = &quot;dodge&quot;,
  color = &quot;#84628e&quot;,
  fill = &quot;#84628e&quot;,
  alpha=0.6) +
  coord_flip() +
  theme_minimal() +
  labs(title = &quot;Top 10 countries requesting Kiva loans&quot;,
  x = &quot;&quot;,
  y = &quot;Number of loans&quot;)+
 geom_label(aes(label=n))
</code></pre>

<p>Now I&rsquo;m curious to look at the top 10 countries requesting Kiva loans but per capita and per number of internet users.</p>

<pre><code class="language-r">#Count all loans per country
loans_per_country &lt;- kiva_loans %&gt;%
  group_by(country_code) %&gt;%
  dplyr::count(country_code, sort = TRUE) %&gt;%
  ungroup()
</code></pre>

<pre><code class="language-r">population &lt;- read_csv(paste0(path,&quot;country_populations.csv&quot;))
iso &lt;- read_csv(paste0(path,&quot;iso_countries.csv&quot;))
users &lt;- read_csv(paste0(path,&quot;internet_users.csv&quot;))
</code></pre>

<pre><code class="language-r">#Left join country codes with population amounts
population_iso &lt;- left_join(population,iso,by=&quot;name&quot;)
#population_iso_loans 
pop_iso_loans &lt;- left_join(loans_per_country,
                          population_iso,
                          by=c(&quot;country_code&quot;=&quot;iso&quot;))

pop_iso_loans &lt;- pop_iso_loans %&gt;% 
                        select(n,
                        `2018 Population`,
                        country_code,
                        name)
#Calculate loans per capita
pop_iso_loans$n_per_cap &lt;- pop_iso_loans$n/pop_iso_loans$`2018 Population`
#Arrange in descending order
pop_iso_loans &lt;- pop_iso_loans %&gt;%
  arrange(desc(n_per_cap))
#Remove strange first row
pop_iso_loans &lt;- pop_iso_loans[-1,]
</code></pre>

<pre><code class="language-r">pop_iso_loans %&gt;%
  top_n(10) %&gt;%
  ggplot(aes(reorder(x = country_code,
                     n_per_cap),
             y = n_per_cap)) +
  geom_col(position = &quot;dodge&quot;,
  color = &quot;#a0d985&quot;,
  fill = &quot;#a0d985&quot;,
  alpha=0.6) +
  coord_flip() +
  theme_minimal() +
  labs(title = &quot;Top 10 countries requesting Kiva loans per 1,000 capita&quot;,
  x = &quot;&quot;,
  y = &quot;Number of loans per 1,000 capita&quot;)+
 geom_label(aes(label=round(n_per_cap,
                            digits = 2)))
</code></pre>

<p>Let&rsquo;s see how the top 10 changes when it comes to internet users. I used <a href="https://en.wikipedia.org/wiki/List_of_countries_by_number_of_Internet_users" target="_blank">this ranking</a>, which is based on numbers published by the <a href="https://www.itu.int/en/Pages/default.aspx" target="_blank">International Telecommunications Union</a>.</p>

<pre><code class="language-r">#Left join country codes with users
users_iso &lt;- left_join(users,iso,by=&quot;name&quot;)
#users_iso_loans 
users_iso_loans &lt;- left_join(loans_per_country,
                           users_iso,
                           by=c(&quot;country_code&quot;=&quot;iso&quot;))

 users_iso_loans &lt;- users_iso_loans%&gt;% 
   select(n,
        users,
        country_code,
       name)
#Calculate loans per users
users_iso_loans$n_per_users &lt;- users_iso_loans$n/users_iso_loans$users*1000
 #Arrange in descending order
 users_iso_loans &lt;- users_iso_loans %&gt;%
   arrange(desc(n_per_users))
</code></pre>

<pre><code class="language-r">users_iso_loans %&gt;%
  top_n(10) %&gt;%
  ggplot(aes(reorder(x = country_code, n_per_users), y = n_per_users)) +
  geom_col(position = &quot;dodge&quot;,
  color = &quot;#8283ad&quot;,
  fill = &quot;#8283ad&quot;,
  alpha=0.6) +
  coord_flip() +
  theme_minimal() +
  labs(title = &quot;Top 10 countries requesting Kiva loans per 1,000 internet users&quot;,
  x = &quot;&quot;,
  y = &quot;Number of loans per 1,000 internet users&quot;)+
 geom_label(aes(label=round(n_per_users,
                            digits = 2)))
</code></pre>

<p>Now let&rsquo;s look at the distributions of our numeric variables.</p>

<pre><code class="language-r">
ggplot(kiva_loans, aes(x = loan_usd)) +
  geom_density(color=&quot;#84628e&quot;,alpha=0.3,fill=&quot;#84628e&quot;) +
  theme_classic() +
  scale_x_continuous(limits = c(0, 15)) +
  geom_vline(
  xintercept = median(kiva_loans$loan_usd),
  color = &quot;#84628e&quot;,
  linetype = &quot;dashed&quot;) +
  annotate(geom=&quot;label&quot;,
             y=0.4,
            label=paste(&quot;Median =&quot;, round(median(kiva_loans$loan_usd),
                                          digits = 2)),
             x=round(median(kiva_loans$loan_usd),
                     digits = 2),
           color=&quot;#84628e&quot;)+
  labs(title = &quot;Distribution of Kiva loan amounts in USD&quot;,
  x = &quot;US Dollars&quot;,
  y = &quot;Density&quot;)
</code></pre>

<pre><code class="language-r">ggplot(kiva_loans,
       aes(x=term_in_months))+
  geom_density(color=&quot;#84628e&quot;,alpha=0.3,fill=&quot;#84628e&quot;)+
  theme_classic()+
  scale_x_continuous(limits=c(0,50))+
  geom_vline(xintercept = median(kiva_loans$term_in_months),
             color=&quot;#84628e&quot;,
             linetype=&quot;dashed&quot;)+
  annotate(&quot;label&quot;,
           label=paste(&quot;Median =&quot;,                          median(kiva_loans$term_in_months)),
                x=median(kiva_loans$term_in_months),
                y=0.2,
           color=&quot;#84628e&quot;)+
    labs(title = &quot;Distribution of Kiva loan terms in months&quot;,
  x = &quot;Months&quot;,
  y = &quot;Density&quot;)
</code></pre>

<pre><code class="language-r">ggplot(kiva_loans,
       aes(x=lender_count))+
  geom_histogram(color=&quot;#84628e&quot;,alpha=0.3,fill=&quot;#84628e&quot;)+
   theme_classic()+
  scale_x_continuous(limits=c(0,100))+
  geom_vline(xintercept = median(kiva_loans$lender_count),
             color=&quot;#84628e&quot;,
             linetype=&quot;dashed&quot;)+
  annotate(geom = &quot;label&quot;,
           label=paste(&quot;Median =&quot;,
                              median(kiva_loans$lender_count)),
                x=median(kiva_loans$lender_count),
                y=150000,
           color=&quot;#84628e&quot;)+
    labs(title = &quot;Distribution of number of lenders per Kiva loan&quot;,
  x = &quot;Lenders&quot;,
  y = &quot;Frequency&quot;)
</code></pre>

<pre><code class="language-r">#Create ranking of countries that request the most loans
kiva_loans_top_16 &lt;-kiva_loans%&gt;%
  group_by(country_code)%&gt;%
  dplyr::count(country_code, sort = TRUE)%&gt;%
  ungroup()%&gt;%
  top_n(16)

#Save as a vector
wanted_countries &lt;- as.vector(kiva_loans_top_16$country_code)

#Filter countries from the above top 16 countries
kiva_16 &lt;-  kiva_loans%&gt;%
  filter(country_code %in% wanted_countries)%&gt;%
  droplevels.data.frame()

</code></pre>

<pre><code class="language-r">
#Create plot faceted by the median loan amount amongst the countries that request the most loans
kiva_16%&gt;%
  #Group by countries
  group_by(country_code)%&gt;%
  #Create a variable median lender count and how many loans per country
  mutate(country_lender_median = median(lender_count), nobs=n())%&gt;%
  #Ungroup the dataset
  ungroup()%&gt;%
  #Create a label with information
  mutate(label_lender = paste(country_code,
                           &quot;\n&quot;,
                           &quot;Median = &quot;,
                           round(country_lender_median,
                                 digits = 2),
                           &quot;\n&quot;,
                           &quot;N = &quot;,
                           nobs),
         #Organise that label accourding to the most borrowing countries
         label=reorder(label_lender, -nobs))%&gt;%
  #Create a plot
  ggplot(aes(lender_count)) +
  #Select histograph
  geom_histogram(color=&quot;#84628e&quot;, alpha=0.1, fill=&quot;white&quot;, binwidth = 1) +
  #Facet per country
  facet_wrap( ~ label, ncol = 4, scales=&quot;free&quot;) +
  #Add median line
  geom_vline(aes(xintercept = country_lender_median)) +
  #Minimal theme
  theme_minimal() +
  #Add limits to the x axis
  xlim(0,70) +
  #Remove x axis labels
  theme(axis.text.x = element_blank())+
  #Add labels to all the plot
  labs(x = &quot;Lenders&quot;, y = &quot;Frequency&quot;,
       title = &quot;How many lenders fund a single Kiva microloan per country?&quot;,
       subtitle=&quot;Top 16 countries borrowing countries included.&quot;)

</code></pre>

<pre><code class="language-r">ggplot(kiva_loans,
       aes(x=giving_time_num))+
  geom_density(color=&quot;#84628e&quot;,alpha=0.3,fill=&quot;#84628e&quot;)+
   theme_classic()+
  scale_x_continuous(limits=c(0,50))+
  geom_vline(xintercept = median(kiva_loans$giving_time_num,
                                 na.rm=TRUE),
             color=&quot;#84628e&quot;,
             linetype=&quot;dashed&quot;)+
  annotate(&quot;label&quot;,
           label=paste(&quot;Median =&quot;,
                    round(median(kiva_loans$giving_time_num,
                           na.rm=TRUE),digits = 2)),
           x=median(kiva_loans$giving_time_num,
                    na.rm=TRUE),
           y=0.1,
           color=&quot;#84628e&quot;)+
    labs(title = &quot;Distribution of time to fully fund a Kiva loan&quot;,
  x = &quot;Days&quot;,
  y = &quot;Density&quot;)
</code></pre>

<pre><code class="language-r">

ggplot(kiva_loans,
       aes(x=total_time_num))+
  geom_density(color=&quot;#84628e&quot;,alpha=0.3,fill=&quot;#84628e&quot;)+
   theme_classic()+
  scale_x_continuous(limits=c(0,50))+
  geom_vline(xintercept = median(kiva_loans$total_time_num,
                                 na.rm=TRUE),
             color=&quot;#84628e&quot;,
              linetype=&quot;dashed&quot;)+
   annotate(&quot;label&quot;,
           label=paste(&quot;Median =&quot;,
                    round(median(kiva_loans$total_time_num,
                                 na.rm=TRUE),digits = 2)),
           x=median(kiva_loans$total_time_num,
                    na.rm=TRUE),
           y=0.1,
           color=&quot;#84628e&quot;)+
    labs(title = &quot;Distribution of time between posting and disbursing a Kiva loan&quot;,
  x = &quot;Days&quot;,
  y = &quot;Density&quot;)
</code></pre>

<h1 id="techniques-used">Techniques used</h1>

<ul>
<li><p>I used the <code>quantmode</code> package to convert all loans into a unique currency (US dollars) for comparison. There were two currencies that were unavailable.</p></li>

<li><p>Taking all the different levels that came in the <code>borrower_genders</code> variable and creating five neat categories to better understand who are the borrowers was good practice with lists and the <code>stringr</code> package.</p></li>
</ul>

<h1 id="questions-from-this-analysis">Questions from this analysis</h1>

<ul>
<li><p>Why is <code>Retail</code> and not <code>Food</code> (as in other regions) the second most common use for loans in Asia.</p></li>

<li><p>Who are the givers? Where are they? Does proximity of the lender to the borrower have anything to do with funding times?</p></li>

<li><p>Does the Kiva website have anything to do with funding times? For example, <code>giving_time</code>, the time between posting the loan and the loan being fully funded, has two peaks, at around one week and one month. Is this due to the platform and the promotion of loans that have been posted for a certain amount of time?</p></li>
</ul>

<pre><code class="language-r">#Save cleaned data for future posts.
saveRDS(kiva_loans,paste0(path,&quot;kiva_loans.rds&quot;))
</code></pre>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/kaggle/">Kaggle</a>
  
  <a class="badge badge-light" href="/tags/kiva/">Kiva</a>
  
</div>



    






<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  <img class="portrait mr-3" src="/img/angela.jpeg" itemprop="image" alt="Avatar">
  
  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="/">Ángela Castillo-Gill</a></h5>
    <h6 class="card-subtitle">Researcher and Data Analyst</h6>
    
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
      <li>
        <a itemprop="sameAs" href="mailto:acastillogill@gmail.com" >
          <i class="fas fa-paper-plane"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="//twitter.com/acastillogill" >
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="//github.com/acastillogill" >
          <i class="fab fa-github"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.linkedin.com/in/acastillogill/" target="_blank" rel="noopener">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="/files/cv.pdf" >
          <i class="ai ai-cv"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>




    
    

    
    <div class="article-widget">
      <div class="post-nav">
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/tutorial/example/" rel="next">Example Page</a>
  </div>
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/tutorial/2018-07-09-exploring-kiva-loans/" rel="prev"></a>
  </div>
  
</div>

    </div>
    

    
<section id="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-acastillogill-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



  </div>
</article>

<div class="container">
  <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    &copy; 2018 Ángela Castillo-Gill &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    
    
    <script src="/js/mathjax-config.500a6cbb2c0f345fcecc21b3116d6637aa78f1f11db8081ea581abe05390c2e8f3bbffe61be3cf0217baf785c40efceabe51050a4f007e69af94efd3643260e8.js" integrity="sha512-UApsuywPNF/OzCGzEW1mN6p48fEduAgepYGr4FOQwujzu//mG&#43;PPAhe694XEDvzqvlEFCk8AfmmvlO/TZDJg6A=="></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    <script src="/js/hugo-academic.js"></script>
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "Search Results",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    <script src="/js/search.js"></script>
    

    
    

  </body>
</html>

