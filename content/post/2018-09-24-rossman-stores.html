---
title: Rossman stores sales
author: Ángela D. Castillo-Gill
date: '2018-09-24'
slug: rossman-stores-sales
categories:
  - R
  - EDA
tags: 
  - Kaggle
  - Rossman
output:
  blogdown::html_page:
    toc: true
    number_sections: true
    toc_depth: 2
  fig_caption: true
editor_options: 
  chunk_output_type: console
---


<div id="TOC">
<ul>
<li><a href="#summary"><span class="toc-section-number">1</span> Summary</a></li>
<li><a href="#purpose-of-this-post"><span class="toc-section-number">2</span> Purpose of this post</a></li>
<li><a href="#the-data"><span class="toc-section-number">3</span> The data</a></li>
<li><a href="#data-cleaning"><span class="toc-section-number">4</span> Data cleaning</a></li>
<li><a href="#exploratory-data-analysis"><span class="toc-section-number">5</span> Exploratory data analysis</a></li>
<li><a href="#techniques-used"><span class="toc-section-number">6</span> Techniques used</a></li>
<li><a href="#questions-from-this-analysis"><span class="toc-section-number">7</span> Questions from this analysis</a></li>
</ul>
</div>

<div id="summary" class="section level1">
<h1><span class="header-section-number">1</span> Summary</h1>
</div>
<div id="purpose-of-this-post" class="section level1">
<h1><span class="header-section-number">2</span> Purpose of this post</h1>
</div>
<div id="the-data" class="section level1">
<h1><span class="header-section-number">3</span> The data</h1>
<p>The data was obtained from the <a href="https://www.kaggle.com/c/rossmann-store-sales/kernels?sortBy=hotness&amp;group=everyone&amp;pageSize=20&amp;language=R&amp;outputType=Data&amp;competitionId=4594&amp;kernelType=all">Kaggle platform</a>.</p>
<pre><code>Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:   1017209 obs. of  18 variables:
 $ Store                    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ DayOfWeek                : int  5 5 5 5 5 5 5 5 5 5 ...
 $ Date                     : Date, format: &quot;2015-07-31&quot; &quot;2015-07-31&quot; ...
 $ Sales                    : int  5263 6064 8314 13995 4822 5651 15344 8492 8565 7185 ...
 $ Customers                : int  555 625 821 1498 559 589 1414 833 687 681 ...
 $ Open                     : int  1 1 1 1 1 1 1 1 1 1 ...
 $ Promo                    : int  1 1 1 1 1 1 1 1 1 1 ...
 $ StateHoliday             : int  0 0 0 0 0 0 0 0 0 0 ...
 $ SchoolHoliday            : int  1 1 1 1 1 1 1 1 1 1 ...
 $ StoreType                : chr  &quot;c&quot; &quot;a&quot; &quot;a&quot; &quot;c&quot; ...
 $ Assortment               : chr  &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;c&quot; ...
 $ CompetitionDistance      : int  1270 570 14130 620 29910 310 24000 7520 2030 3160 ...
 $ CompetitionOpenSinceMonth: int  9 11 12 9 4 12 4 10 8 9 ...
 $ CompetitionOpenSinceYear : int  2008 2007 2006 2009 2015 2013 2013 2014 2000 2009 ...
 $ Promo2                   : int  0 1 1 0 0 0 0 0 0 0 ...
 $ Promo2SinceWeek          : int  NA 13 14 NA NA NA NA NA NA NA ...
 $ Promo2SinceYear          : int  NA 2010 2011 NA NA NA NA NA NA NA ...
 $ PromoInterval            : chr  NA &quot;Jan,Apr,Jul,Oct&quot; &quot;Jan,Apr,Jul,Oct&quot; NA ...</code></pre>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre><code>
Call:
lm(formula = Sales ~ . - Store - StateHoliday - Promo2 - Date, 
    data = full_store)

Residuals:
    Min      1Q  Median      3Q     Max 
-9207.0  -710.8   -43.3   591.6 26314.6 

Coefficients:
                                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                    4.839e+04  2.551e+03  18.973  &lt; 2e-16 ***
DayOfWeek                     -3.488e+01  1.328e+00 -26.262  &lt; 2e-16 ***
Customers                      7.933e+00  8.306e-03 955.105  &lt; 2e-16 ***
Open                           5.791e+02  8.571e+00  67.568  &lt; 2e-16 ***
Promo                          1.144e+03  4.678e+00 244.504  &lt; 2e-16 ***
SchoolHoliday                  4.660e+01  5.518e+00   8.445  &lt; 2e-16 ***
StoreTypec                    -1.983e+02  6.346e+00 -31.250  &lt; 2e-16 ***
StoreTyped                     9.045e+02  4.874e+00 185.596  &lt; 2e-16 ***
Assortmentc                    4.038e+02  4.304e+00  93.822  &lt; 2e-16 ***
CompetitionDistance            5.178e-02  3.999e-04 129.472  &lt; 2e-16 ***
CompetitionOpenSinceMonth     -9.902e+00  6.274e-01 -15.783  &lt; 2e-16 ***
CompetitionOpenSinceYear      -1.378e+00  2.720e-01  -5.065 4.08e-07 ***
Promo2SinceWeek                1.230e+01  1.510e-01  81.472  &lt; 2e-16 ***
Promo2SinceYear               -2.300e+01  1.236e+00 -18.608  &lt; 2e-16 ***
PromoIntervalJan,Apr,Jul,Oct   5.264e+01  5.090e+00  10.341  &lt; 2e-16 ***
PromoIntervalMar,Jun,Sept,Dec -3.816e+01  6.522e+00  -5.851 4.90e-09 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1120 on 313898 degrees of freedom
Multiple R-squared:  0.8923,    Adjusted R-squared:  0.8923 
F-statistic: 1.733e+05 on 15 and 313898 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre><code>                    DayOfWeek                     Customers 
                     1.779624                      2.154468 
                         Open                         Promo 
                     2.308740                      1.292454 
                SchoolHoliday                    StoreTypec 
                     1.049520                      1.150770 
                   StoreTyped                   Assortmentc 
                     1.293282                      1.126712 
          CompetitionDistance     CompetitionOpenSinceMonth 
                     1.102877                      1.041017 
     CompetitionOpenSinceYear               Promo2SinceWeek 
                     1.017733                      1.047114 
              Promo2SinceYear  PromoIntervalJan,Apr,Jul,Oct 
                     1.071063                      1.544484 
PromoIntervalMar,Jun,Sept,Dec 
                     1.526166 </code></pre>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>The codebook was included in the Kaggle description:</p>
<ul>
<li><code>customerID</code>: “Customer ID”</li>
<li><code>gender</code>: “The amount disbursed by the field agent to the borrower(USD)”</li>
<li><code>SeniorCitizen</code>: “More granular category”</li>
<li><code>sector</code>: “High level category”</li>
<li><code>use</code>: “Exact usage of loan amount”</li>
<li><code>country_code</code>: “ISO country code of country in which loan was disbursed”</li>
<li><code>country</code>: “Full country name of country in which loan was disbursed”</li>
<li><code>region</code>: “Full region name within the country”</li>
<li><code>currency</code>: “The currency in which the loan was disbursed”</li>
<li><code>partner_id</code>: “ID of partner organization”</li>
</ul>
</div>
<div id="data-cleaning" class="section level1">
<h1><span class="header-section-number">4</span> Data cleaning</h1>
<p>From at the structure of our data, we can soon see there are a few bits that don’t make sense and need to be fixed.</p>
<p><strong>a. Missing values</strong></p>
</div>
<div id="exploratory-data-analysis" class="section level1">
<h1><span class="header-section-number">5</span> Exploratory data analysis</h1>
</div>
<div id="techniques-used" class="section level1">
<h1><span class="header-section-number">6</span> Techniques used</h1>
</div>
<div id="questions-from-this-analysis" class="section level1">
<h1><span class="header-section-number">7</span> Questions from this analysis</h1>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p><img src="/post/2018-09-24-rossman-stores_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
