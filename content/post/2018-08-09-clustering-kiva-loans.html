---
title: Clustering Kiva loans
author: Ángela D. Castillo-Gill
date: '2018-08-09'
slug: clustering-kiva-loans
categories:
  - R
  - EDA
tags: 
  - Kaggle
  - Kiva
draft: TRUE
summary: What are the main types of Kiva loan groups?
output:
  blogdown::html_page:
    toc: true
    number_sections: true
    toc_depth: 2
  fig_caption: true
editor_options: 
  chunk_output_type: console
---


<div id="TOC">
<ul>
<li><a href="#summary"><span class="toc-section-number">1</span> Summary</a></li>
<li><a href="#purpose-of-this-post"><span class="toc-section-number">2</span> Purpose of this post</a></li>
<li><a href="#the-data"><span class="toc-section-number">3</span> The data</a></li>
<li><a href="#data-cleaning"><span class="toc-section-number">4</span> Data cleaning</a></li>
<li><a href="#clustering"><span class="toc-section-number">5</span> Clustering</a></li>
<li><a href="#techniques-used"><span class="toc-section-number">6</span> Techniques used</a></li>
<li><a href="#questions-from-this-analysis"><span class="toc-section-number">7</span> Questions from this analysis</a></li>
</ul>
</div>

<div id="summary" class="section level1">
<h1><span class="header-section-number">1</span> Summary</h1>
</div>
<div id="purpose-of-this-post" class="section level1">
<h1><span class="header-section-number">2</span> Purpose of this post</h1>
<p>While looking at the distributions for variables like loan amounts <code>loan_usd</code> or loan term <code>term_in_months</code>, I realised that there are many types of loans represented in that plot. Therefore, I thought it would be interesting to cluster the data. To what? To divide the large dataset into groups that share similar characteristics.</p>
</div>
<div id="the-data" class="section level1">
<h1><span class="header-section-number">3</span> The data</h1>
<p>The dataset I’ll be using is the one I cleaned and used for the exploratory data analysis in the <a href="https://www.ad-castillogill.com/post/exploring-kiva-loans/">previous post.</a></p>
<p>The cleaned dataset has 568,943 observations and 15 variables.</p>
</div>
<div id="data-cleaning" class="section level1">
<h1><span class="header-section-number">4</span> Data cleaning</h1>
<p>For the technique I’ll be using, I need to have a clean dataset. For that I will remove all missing values. After using the <code>summary()</code> function, I see that most missing values are in the <code>giving_time_num</code> and <code>funded_time</code> which are variables that I created to see specific intervals between requesting the loan and it being funded.</p>
<p>Since I will the k-means algorithm, I need all my variables to be numerical. I have several important categorical variables. To give them a numerical value, I will dummify them. To what? To make an additional column for each category level (example: Asia, Africa, South America, and Oceania) and then assign them a value of 1 or 0 depending on the category they belong to. An observation that belongs to Asia, would have a 1 in the asia column and a 0 in the rest.</p>
<p>I need to make sure that the variables are on similar scales. That is not the case. Using the <code>scale()</code> I will scale each feature so that it has mean 0 and standard deviation of 1.</p>
</div>
<div id="clustering" class="section level1">
<h1><span class="header-section-number">5</span> Clustering</h1>
</div>
<div id="techniques-used" class="section level1">
<h1><span class="header-section-number">6</span> Techniques used</h1>
</div>
<div id="questions-from-this-analysis" class="section level1">
<h1><span class="header-section-number">7</span> Questions from this analysis</h1>
</div>
