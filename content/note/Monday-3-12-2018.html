---
title: "New month, new post"
subtitle: "Let's find the dataset."
author: Ángela Castillo-Gill
date: '2018-12-03'
slug: new-month-new-post
categories:
  - Journal
tags: 
  - Learning
draft: FALSE
summary: "Let's find the dataset."
output:
 blogdown::html_page:
  fig_caption: true
editor_options: 
  chunk_output_type: console
---



<p>As a follow up to Friday’s post on the new packages and scripts I would like to make. I can report that I have learned the <code>here</code> package and was able to make a <code>makefile</code> too to organise all my projects. I have a good understanding now, I think. I’ll leave <code>testthat</code> for this Friday and <code>roxygen2</code> for another rainy day.</p>
<p>It’s important to invest that time in learning things that will make my workflow more efficient. At first it feels like I’m stalling or something, but it can be worth the investment in the future.</p>
<p>Now, in a previous I had said that I wanted to find another dataset, but then I decided to keep the property price dataset, but now I don’t think I can be bothered.</p>
<p>I will look at datasets on Tidy Tuesday and find something that excites me from there. I think the most important thing to keep me going is, does the dataset make me curious about something. I found a dataset on a year’s worth of R Language downloads.</p>
<p>My questions here that could lead to a regression of some sort are, which countries download R Language the most in a year. What is the relationship with GPD per capita, with education funding, maybe even GINI index.</p>
<p>I would be working backwards, the downloads would be my <span class="math inline">\(Y\)</span> variable and then I would have to find statistics from around the internet. Could be fun and also, I wouldn’t be so overwhelmed about a lot of variables at once. I have the option to find each one.</p>
<p>Let’s read the data in and explore it:</p>
<pre class="r"><code>downloads &lt;- read_csv(&quot;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018-10-30/r_downloads_year.csv&quot;)</code></pre>
<p>Let’s save that data for a rainy day since it took a while to download:</p>
<pre class="r"><code>saveRDS(downloads, here(&quot;static&quot;, &quot;data&quot;, &quot;r-downloads.rds&quot;))</code></pre>
<p>Excellent!</p>
<p><a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2018-10-30">Data source</a></p>
<pre class="r"><code>downloads_per_country &lt;- downloads %&gt;% count(country, sort = TRUE) %&gt;% arrange(desc(n))</code></pre>
<p>Now I’m going to give the countries full names, to do this I will use the ISO code to merge and obtain names.</p>
<pre class="r"><code>iso_codes &lt;- read_csv(here(&quot;static&quot;, &quot;data&quot;, &quot;iso_countries.csv&quot;))</code></pre>
<pre class="r"><code>downloads_per_country %&lt;&gt;% right_join(iso_codes, by = c(country = &quot;iso&quot;))</code></pre>
<div id="which-are-the-top-ten-countries-in-terms-of-downloads" class="section level2">
<h2>Which are the top ten countries in terms of downloads</h2>
<pre class="r"><code>downloads_per_country %&gt;% arrange(desc(n)) %&gt;% filter(!is.na(name)) %&gt;% head(20) %&gt;% 
    mutate(name = fct_reorder(name, n)) %&gt;% ggplot(aes(name, n, fill = name)) + 
    geom_col() + expand_limits(y = 0) + coord_flip() + scale_y_continuous(labels = comma_format()) + 
    labs(title = &quot;Top 20 countries by R downloads&quot;, x = &quot;Country&quot;, y = &quot;Downloads&quot;) + 
    theme(legend.position = &quot;none&quot;)</code></pre>
<p><img src="/note/Monday-3-12-2018_files/figure-html/top-20-countries-plot-1.png" width="672" /></p>
</div>
