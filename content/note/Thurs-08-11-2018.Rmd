---
title: Surrogate who?
author: Ángela Castillo-Gill
date: '2018-11-08'
slug: surrogate-who
categories:
  - Journal
tags: 
  - Rpart
  - Learning
draft: FALSE
summary: "More jargon clarified!"
output:
  blogdown::html_page:
    toc: true
    number_sections: true
    toc_depth: 2
  fig_caption: true
editor_options: 
  chunk_output_type: console
image_preview: "/post/Thurs-08-11-2018_files/cptable.png"
---

I hope the authors of the `Rpart` documentation don't take it personally but they mention surrogate variables starting on page 11 and they don't properly define what surrogate variables mean until page 18. Maybe it's just me.

Anyway! So here is another response to a previous question: what is a surrogate variable?

So the `Rpart` algorithm deals with missing data. The way it does this is when it's doing its thing and determining the next variable and split point and comes across an observation that does not have a that variable, it figures out which variables can act as a replacement for that variable. Surrogate variable mystery solved. N

Now I'm having a bit of trouble figuring out if all the rules I've read for choosing the best tree are the same. In the DataCamp course we pick the tree that minimises `xerror`. Yesterday I posted this rule I found on Cross Validated:

$rel\>error$ $+$ $xstd$ $<$ $xerror$

In the documentation this is a rule:

$1-SE$

In my next post I'm going to get to the bottom of this. I'm particularly confused because if we want to minimise the `xerror`, why does page 16 of the documentation show a cptable with 27 splits and says: we see that the best tree has 10 terminal nodes, 9 splits, based on cross-validation. It has `xerror` 0.3944. 

![CP table on page 16 from the Rpart documentation.](/post/Thurs-08-11-2018_files/cptable.png)

Doesn't the tree with 11 splits and 12 nodes have the first smallest error with 0.36667? 