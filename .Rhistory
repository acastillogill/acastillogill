>
> lapply(x, require, character.only = TRUE)
[[1]]
[1] TRUE
[[2]]
[1] TRUE
[[3]]
[1] TRUE
[[4]]
[1] TRUE
[[5]]
[1] TRUE
[[6]]
[1] TRUE
[[7]]
[1] TRUE
[[8]]
[1] TRUE
[[9]]
[1] TRUE
[[10]]
[1] TRUE
[[11]]
[1] TRUE
[[12]]
[1] TRUE
[[13]]
[1] TRUE
[[14]]
[1] TRUE
[[15]]
[1] TRUE
[[16]]
[1] TRUE
[[17]]
[1] TRUE
[[18]]
[1] TRUE
>
> opts_chunk$set(echo = TRUE,
+                warning = FALSE,
+                error = FALSE,
+                message = FALSE,
+                collapse= TRUE,
+                comment = NA,
+                tidy = TRUE)
>
> theme_set(theme_light())
>
> options(
+   digits=3,
+   scipen = 999
+ )
>
> theme_set(theme_light())
>
> scale_colour_discrete <- function(...) scale_colour_brewer(..., palette="Paired")
> scale_fill_discrete <- function(...) scale_fill_brewer(... , palette="Paired")
>
> r_downloads <- readRDS(file=here::here("static","data","r-downloads.rds"))
>
> r_downloads <- na.omit(r_downloads)
>
> r_downloads <- readRDS(file=here::here("static","data","r-downloads.rds"))
> View(r_downloads)
> x <-
+   c("dplyr",
+     "knitr",
+     "here",
+     "scales",
+     "magrittr",
+     "ggplot2",
+     "cowplot",
+     "tidyverse",
+     "Metrics",
+     "rsample",
+     "broom",
+     "sf",
+     "rgdal",
+     "summarytools",
+     "leaflet",
+     "tmap",
+     "tmaptools",
+     "lubridate")
>
> lapply(x, require, character.only = TRUE)
[[1]]
[1] TRUE
[[2]]
[1] TRUE
[[3]]
[1] TRUE
[[4]]
[1] TRUE
[[5]]
[1] TRUE
[[6]]
[1] TRUE
[[7]]
[1] TRUE
[[8]]
[1] TRUE
[[9]]
[1] TRUE
[[10]]
[1] TRUE
[[11]]
[1] TRUE
[[12]]
[1] TRUE
[[13]]
[1] TRUE
[[14]]
[1] TRUE
[[15]]
[1] TRUE
[[16]]
[1] TRUE
[[17]]
[1] TRUE
[[18]]
[1] TRUE
>
> opts_chunk$set(echo = TRUE,
+                warning = FALSE,
+                error = FALSE,
+                message = FALSE,
+                collapse= TRUE,
+                comment = NA,
+                tidy = TRUE)
>
> theme_set(theme_light())
>
> options(
+   digits=3,
+   scipen = 999
+ )
>
> theme_set(theme_light())
>
> scale_colour_discrete <- function(...) scale_colour_brewer(..., palette="Paired")
> scale_fill_discrete <- function(...) scale_fill_brewer(... , palette="Paired")
>
> r_downloads <- readRDS(file=here::here("static","data","r-downloads.rds"))
r_downloads <- readRDS(file=here::here("static","data","r-downloads.rds"))
View(r_downloads)
arrange(r_downloads, desc(date))
arrange(r_downloads, desc(date),desc(time))
arrange(r_downloads, date,time)
r_downloads <- na.omit(r_downloads)%>%
filter(date<"2018-10-20")
iso_codes <- read_csv(here::here("static","data","iso_countries.csv"))
r_downloads%<>%
full_join(iso_codes, by=c("country"="iso"))%>%
filter(!is.na(sub_region))
names(r_downloads)
r_downloads%>%
group_by(country)%>%
summarise(n=n())%>%
filter(!is.na(n))%>%
arrange(desc(n))->downloads_per_country
names(downloads_per_country)
downloads_per_country%>%
arrange(desc(n))%>%
head(10)%>%
mutate(name=fct_reorder(name,n))%>%
ggplot(aes(name,n,fill=name))+
geom_col()+
expand_limits(y=0)+
coord_flip()+
scale_y_continuous(labels=comma_format())+
labs(title="Top 10 countries by R downloads",
x="",
y="Downloads")+
theme(legend.position = "none")
downloads_per_country%>%
arrange(desc(n))%>%
head(10)%>%
mutate(country=fct_reorder(country,n))%>%
ggplot(aes(country,n,fill=country))+
geom_col()+
expand_limits(y=0)+
coord_flip()+
scale_y_continuous(labels=comma_format())+
labs(title="Top 10 countries by R downloads",
x="",
y="Downloads")+
theme(legend.position = "none")
names(r_downloads)
head(r_downloads)
downloads_per_country%>%
arrange(desc(n))%>%
head(10)%>%
mutate(name=fct_reorder(name,n))%>%
ggplot(aes(name,n,fill=name))+
geom_col()+
expand_limits(y=0)+
coord_flip()+
scale_y_continuous(labels=comma_format())+
labs(title="Top 10 countries by R downloads",
x="",
y="Downloads")+
theme(legend.position = "none")
r_downloads%>%
group_by(name)%>%
summarise(n=n())%>%
filter(!is.na(n))%>%
arrange(desc(n))->downloads_per_country
downloads_per_country%>%
arrange(desc(n))%>%
head(10)%>%
mutate(name=fct_reorder(name,n))%>%
ggplot(aes(name,n,fill=name))+
geom_col()+
expand_limits(y=0)+
coord_flip()+
scale_y_continuous(labels=comma_format())+
labs(title="Top 10 countries by R downloads",
x="",
y="Downloads")+
theme(legend.position = "none")
blogdown::serve_site()
iso_codes <- read_csv(here::here("static","data","iso_countries.csv"))
pop <-read_csv(here::here("static","data","country_populations.csv"))
iso_codes <- read_csv(here::here("static","data","iso_countries.csv"))
pop <-read_csv(here::here("static","data","country_populations.csv"))
map_path <- here::here("static","data","world_shapefile","world_shapefile.shp")
world <- sf::st_read(map_path)
world_full <- world%>%
left_join(full_maps, by=c("ISO3"="iso_3"))
world_full <- world%>%
left_join(full_maps, by=c("ISO3"="iso_3"))
full_maps <- downloads_per_country%>%
left_join(pop, by=c("name"="name"))%>%
select(country, n, name, iso_3, region, sub_region, pop_2018)%>%
mutate(n_capita=n/pop_2018)%>%
filter(!is.na(n_capita),
pop_2018!=0)
names(pop)
names(downloads_per_country)
names(r_downloads)
full_maps <- r_downloads%>%
left_join(pop, by=c("name"="name"))%>%
select(country, n, name, iso_3, region, sub_region, pop_2018)%>%
mutate(n_capita=n/pop_2018)%>%
filter(!is.na(n_capita),
pop_2018!=0)
names(downloads_per_country)
downloads_per_country%>%
left_join(pop, by=c("name"="name")
names(iso_codes)
names(pop)
full_maps <- downloads_per_country%>%
full_join(iso_codes, by=c("name"="name"))%>%
filter(!is.na(sub_region))%>%
left_join(pop, by=c("name"="name"))%>%
select(country, n, name, iso_3, region, sub_region, pop_2018)%>%
mutate(n_capita=n/pop_2018)%>%
filter(!is.na(n_capita),
pop_2018!=0)
# Chunk 1: setup
x <-
c("dplyr",
"knitr",
"here",
"scales",
"magrittr",
"ggplot2",
"cowplot",
"tidyverse",
"Metrics",
"rsample",
"broom",
"sf",
"rgdal",
"summarytools",
"leaflet",
"tmap",
"tmaptools",
"lubridate")
lapply(x, require, character.only = TRUE)
opts_chunk$set(echo = FALSE,
warning = FALSE,
error = FALSE,
message = FALSE,
collapse= TRUE,
comment = NA,
tidy = TRUE)
theme_set(theme_light())
options(
digits=3,
scipen = 999
)
knit_hooks$set(inline = function(x) {
prettyNum(round(x,2), big.mark=",")
})
scale_colour_discrete <- function(...) scale_colour_brewer(..., palette="Paired")
scale_fill_discrete <- function(...) scale_fill_brewer(... , palette="Paired")
r_downloads <- readRDS(file=here::here("static","data","r-downloads.rds"))
r_downloads <- na.omit(r_downloads)%>%
filter(date<"2018-10-20")
# Chunk 2: read-country-codes-and-pop-and-map
iso_codes <- read_csv(here::here("static","data","iso_countries.csv"))
pop <-read_csv(here::here("static","data","country_populations.csv"))
map_path <- here::here("static","data","world_shapefile","world_shapefile.shp")
world <- sf::st_read(map_path)
# Chunk 3: merge-country-codes
r_downloads%<>%
full_join(iso_codes, by=c("country"="iso"))%>%
filter(!is.na(sub_region))
# Chunk 4: downloads-by-country
r_downloads%>%
group_by(name)%>%
summarise(n=n())%>%
filter(!is.na(n))%>%
arrange(desc(n))->downloads_per_country
# Chunk 5: plot-top-10-countries
downloads_per_country%>%
arrange(desc(n))%>%
head(10)%>%
mutate(name=fct_reorder(name,n))%>%
ggplot(aes(name,n,fill=name))+
geom_col()+
expand_limits(y=0)+
coord_flip()+
scale_y_continuous(labels=comma_format())+
labs(title="Top 10 countries by R downloads in 2017/18",
x="",
y="Downloads")+
theme(legend.position = "none")
full_maps <- downloads_per_country%>%
full_join(iso_codes, by=c("name"="name"))%>%
filter(!is.na(sub_region))%>%
left_join(pop, by=c("name"="name"))%>%
select(n, name, iso_3, region, sub_region, pop_2018)%>%
mutate(n_capita=n/pop_2018)%>%
filter(!is.na(n_capita),
pop_2018!=0)
world_full <- world%>%
left_join(full_maps, by=c("ISO3"="iso_3"))
names(full_maps)
names(world)
world_full <- world%>%
left_join(full_maps, by=c("ISO3"="iso_3"))
n_map <- tm_shape(world_full) +
tm_borders(col="black", lwd=0.1)+
tm_fill(col="n",n=4, style="jenks", palette = get_brewer_pal("BuPu", n = 4, contrast = c(0.13, 0.9))) +
tm_layout(main.title = "Total R downloads in 2017/18",
main.title.size = 2, frame = TRUE, bg.color = "aliceblue", title.position = c("right","bottom"))+
tm_legend(position=c("left", "bottom"), bg.color="white", frame=TRUE, legend.title.size=1)
n_map
blogdown::serve_site()
x <-
c("dplyr",
"knitr",
"here",
"scales",
"magrittr",
"ggplot2",
"cowplot",
"tidyverse",
"Metrics",
"rsample",
"broom",
"sf",
"rgdal",
"summarytools",
"leaflet",
"tmap",
"tmaptools",
"lubridate")
lapply(x, require, character.only = TRUE)
opts_chunk$set(echo = FALSE,
warning = FALSE,
error = FALSE,
message = FALSE,
collapse = TRUE,
comment = NA,
tidy = TRUE,
engine = 'R',
include = TRUE)
theme_set(theme_light())
options(
digits=3,
scipen = 999
)
knit_hooks$set(inline = function(x) {
prettyNum(round(x,2), big.mark=",")
})
scale_colour_discrete <- function(...) scale_colour_brewer(..., palette="Paired")
scale_fill_discrete <- function(...) scale_fill_brewer(... , palette="Paired")
r_downloads <- readRDS(file=here::here("static","data","r-downloads.rds"))
r_downloads <- na.omit(r_downloads)%>%
filter(date<"2018-10-20")
iso_codes <- read_csv(here::here("static","data","iso_countries.csv"))
pop <-read_csv(here::here("static","data","country_populations.csv"))
map_path <- here::here("static","data","world_shapefile","world_shapefile.shp")
world <- sf::st_read(map_path)
blogdown::serve_site()
iso_codes <- read_csv(here::here("static","data","iso_countries.csv"))
pop <-read_csv(here::here("static","data","country_populations.csv"))
map_path <- here::here("static","data","world_shapefile","world_shapefile.shp")
world <- sf::st_read(map_path)
blogdown::serve_site()
n_map
library(rmarkdown)
render("2018-08-09-predicting-property-prices.Rmd", output_format = "md_document")
library(rmarkdown)
render("2018-08-09-predicting-property-prices.Rmd", output_format = "md_document")
here::here
here::here()
here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd")
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document")
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document")
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document")
blogdown::serve_site()
library(knitr)
knitr::knit(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"))
library(knitr)
knitr::knit(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"))
library(rmarkdown)
knitr::render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"), output = "md_document")
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"), output = "md_document")
args(render)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"), output = "md_document")
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"), output_file = "md_document")
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"), output_format = "md_document")
rgs(render)
args(render)
?render
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
params = "ask")
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
clean = FALSE,
run_pandoc = FALSE)
blogdown::serve_site()
blogdown::build_dir()
blogdown::serve_site()
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
run_pandoc = FALSE)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
output_dir = here::here("content","post","2018-08-09-predicting-property-prices"),
clean = FALSE,
run_pandoc = FALSE)
blogdown::serve_site()
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
output_dir = here::here("content","post","2018-08-09-predicting-property-prices"),
clean = FALSE,
run_pandoc = FALSE)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
output_dir = here::here("content","post","2018-08-09-predicting-property-prices"),
clean = FALSE,
run_pandoc = FALSE)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
output_dir = here::here("content","post","2018-08-09-predicting-property-prices"),
run_pandoc = FALSE)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
output_dir = here::here("content","post","2018-08-09-predicting-property-prices"),
run_pandoc = FALSE)
args(render)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_file = "2018-08-09-predicting-property-prices.md",
output_dir = here::here("content","post","2018-08-09-predicting-property-prices"),
run_pandoc = FALSE)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_file = "2018-08-09-predicting-property-prices.md",
run_pandoc = FALSE)
library(rmarkdown)
render(here::here("content","post","2018-08-09-predicting-property-prices","2018-08-09-predicting-property-prices.Rmd"),
output_format = "md_document",
run_pandoc = FALSE)
unlink('content/post/2018-08-09-predicting-property-prices/2018-08-09-predicting-property-prices_cache', recursive = TRUE)
knit_with_parameters('/Volumes/TOSHIBAEXT/google_drive/acastillogill/content/post/2018-08-09-predicting-property-prices/2018-08-09-predicting-property-prices.Rmd')
blogdown::hugo_version()
blogdown::install_hugo(version = '0.44', use_brew = FALSE, force = TRUE)
blogdown::hugo_version()
blogdown::install_hugo(version = '0.44', use_brew = FALSE, force = TRUE)
blogdown::install_hugo()
blogdown::hugo_version()
blogdown::serve_site()
install.packages(emo)
install.packages("emo")
devtools::install_github("hadley/emo")
blogdown::serve_site()
